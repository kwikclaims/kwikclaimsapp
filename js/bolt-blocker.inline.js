/**
 * BOLT PREVIEW BLOCKER - Inline Version
 * Place this FIRST in HTML <head> before any other scripts
 * Prevents Bolt.new preview wrapper from injecting failing scripts
 */
(function(){const e=["/~/messo/","messo.min.js","/api/deploy","/api/project/integrations","bolt.new/~/messo","bolt.new/api/deploy","chameleon","chmln.js"],t=e=>e?e.toString().toLowerCase().split("?")[0]:void 0,o=e=>!!e&&e.some((e=>t(url).includes(t(e)))),n=window.fetch;window.fetch=function(e,...r){return o(e)?(console.warn("[‚õî Blocked]:",e),Promise.resolve(new Response("{}",{status:200}))):n.apply(this,[e,...r]).catch((t=>{if(o(e))return console.warn("[‚õî Fetch Failed (Ignored)]:",e),new Response("{}",{status:200});throw t}))};const r=window.XMLHttpRequest;window.XMLHttpRequest=function(){const e=new r,t=e.open;return e.open=function(n,r,...l){if(o(r))return console.warn("[‚õî Blocked XHR]:",r),void(e.send=function(){setTimeout((()=>{Object.defineProperty(e,"status",{value:200}),Object.defineProperty(e,"readyState",{value:4}),Object.defineProperty(e,"responseText",{value:"{}"}),e.onload&&e.onload(),e.onreadystatechange&&e.onreadystatechange()}),0)}),t.apply(this,[n,r,...l])},e};const l=document.createElement;document.createElement=function(t,...n){const r=l.apply(this,[t,...n]);if("script"===t.toLowerCase()){const e=r.setAttribute;r.setAttribute=function(t,n){if("src"===t&&o(n))return void console.warn("[‚õî Blocked Script]:",n);e.apply(this,[t,n])};let t="";Object.defineProperty(r,"src",{get:()=>t,set(n){o(n)||(t=n,e.call(r,"src",n))}})}return r};window.addEventListener("error",(e=>{const t=e.error?.toString().toLowerCase()||"",o=e.error?.stack?.toLowerCase()||"";(t+o).match(/messo|chmln|chameleon|bolt\.new|\/api\/deploy/)&&(console.warn("[‚õî Blocked Error]:",e.error?.message),e.preventDefault(),e.stopPropagation())}),!0),window.addEventListener("unhandledrejection",(e=>{const t=e.reason?.toString().toLowerCase()||"";t.match(/messo|chmln|chameleon|bolt\.new|\/api\/deploy/)&&(console.warn("[‚õî Blocked Rejection]:",e.reason),e.preventDefault())}),!0),window.chmln=window.chmln||{identify:()=>{},track:()=>{},show:()=>{}},window.analytics=window.analytics||{track:()=>{},identify:()=>{},page:()=>{}},console.log("üõ°Ô∏è Bolt Blocker Active")})();
